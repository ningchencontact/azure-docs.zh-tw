---
title: 錨點的關聯性和在 Azure 空間的錨點的方式-尋找 |Microsoft Docs
description: 深入了解概念模型做後盾錨點的關聯性。 了解連接的空間中的錨點，以及使用附近的 API 來完成的方式尋找案例。
author: ramonarguelles
manager: vicenterivera
services: azure-spatial-anchors
ms.author: ramonarguelles
ms.date: 02/24/2019
ms.topic: conceptual
ms.service: azure-spatial-anchors
ms.openlocfilehash: 619cd051eccce3434469ae909f69496a254d0d9a
ms.sourcegitcommit: 5839af386c5a2ad46aaaeb90a13065ef94e61e74
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/19/2019
ms.locfileid: "57863333"
---
# <a name="anchor-relationships-and-way-finding-in-azure-spatial-anchors"></a>錨點的關聯性和方法-尋找在 Azure 空間的錨點

藉由使用錨點的關聯性，您可以在空間中建立已連線的錨點，並接著詢問這類的問題：

* 有附近的錨點嗎？
* 遠它們？

## <a name="examples"></a>範例

在這類情況下，您可以使用已連線的錨點：

* 背景工作角色必須完成的工作，包括瀏覽各種產業的 factory 中的位置。 Factory 有空間的錨點，每個位置。 HoloLens 或行動應用程式，有助於從一個位置的背景工作角色引導至下一步。 應用程式附近的空間錨點會先要求，然後引導至下一個位置的 背景工作角色。 一般的方向和距離的下一個位置，以視覺化方式顯示應用程式。

* 博物館公開金鑰會顯示建立空間的錨點。 在一起，這些錨點形成博物館不可或缺的公用顯示一小時教學課程。 在公開的顯示，訪客可以開啟博物館 mixed 的 reality 應用程式，其行動裝置上。 然後他們其電話照相機點周圍的空間，若要查看的一般方向和距離其他公開顯示在本教學課程。 當使用者將逐步引導到公用的顯示中，應用程式會更新一般的方向和距離來幫助引導使用者。

## <a name="set-up-way-finding"></a>設定好的方式尋找

在使用的應用程式使用的視野方向和距離： 錨定至提供的指引*方式尋找*。 方式尋找與開啟由開啟瀏覽不同。 在開啟的開啟導覽中，使用者會引導周圍牆，透過的門，和樓層之間。 使用方式尋找，使用者會收到有關目的地的一般方向提示。 但是，推斷或空間的知識也可協助使用者瀏覽到目的結構。

若要建置的方式尋找體驗，首先準備體驗中的空間，並開發應用程式的使用者互動。 以下是概念性的步驟：

1. **計畫空間**:決定空間內的位置會是方式尋找體驗的一部分。 在我們的案例中，factory 監督員或博物館導覽協調器可能會決定要包含在方式尋找體驗中的位置。
2. **連接的錨點**:請瀏覽所選的位置，以建立空間的錨點。 您可以在終端使用者應用程式的系統管理員模式或不同的應用程式完全。 您將連線或與其他每個錨點。 此服務會維護這些關聯性。
3. **啟動的使用者體驗**:使用者執行應用程式，以找出的錨點可以是任何所選的位置。 您的整體設計應該決定使用者可以在其中輸入體驗的位置。
4. **尋找附近的錨點**:使用者會尋找一個錨點之後，應用程式可以要求附近的錨點。 此程序會傳回裝置，這些錨點之間的姿勢。
5. **引導使用者**:應用程式可以使用這些起點的每個姿勢提供給使用者的一般方向和距離的相關指引。 比方說，相機摘要的應用程式中可能會顯示圖示和箭號來表示每個可能的目的地，如下列影像所示。
6. **調整指引**:隨著使用者，應用程式可以定期計算裝置與目的地錨點之間的新姿勢。 應用程式能繼續精簡指引提示可協助使用者抵達目的地。

    ![如何的範例應用程式可以顯示的方式尋找指引](./media/meeting-spot.png)

## <a name="connect-anchors"></a>連接的錨點

若要建置的方式尋找體驗，必須先將錨點放在所選的位置。 在本節中，我們假設應用程式的系統管理員已完成這項工作。

### <a name="connect-anchors-in-a-single-session"></a>在單一工作階段連接的錨點

若要連接的錨點：

1. 逐步第一個位置，並使用 CloudSpatialAnchorSession 建立錨定的。
2. 逐步引導到第二個位置。 基礎 MR/AR 平台會追蹤移動。
3. 使用相同的 CloudSpatialAnchorSession 建立錨定 B。 現在已連線 A 和 B 的錨點。 空間的錨點的服務會維護此關聯性。
4. 繼續執行其餘的錨點的程序。

### <a name="connect-anchors-in-multiple-sessions"></a>連接多個工作階段中的錨點

您可以透過多個工作階段連線空間的錨點。 使用此方法，您可以建立一次連接某些錨點，然後稍後建立並連線更多的錨點。 

若要連接多個工作階段的錨點：

1. 應用程式會建立一個 CloudSpatialAnchorSession 中某些錨點。 
2. 在不同的時間，應用程式會找出這些錨定 (例如，錨點 A) 的其中一個使用新的 CloudSpatialAnchorSession。
3. 逐步引導到新位置。 基礎的混合實境或擴增實境平台會追蹤移動。
4. 使用相同的 CloudSpatialAnchorSession 建立錨點 C。 現在已連線 A、 B 和 C 的錨點。 空間的錨點的服務會維護此關聯性。

您可以繼續此程序的更多的錨點和更多工作階段經過一段時間。

### <a name="verify-anchor-connections"></a>驗證錨點的連線

應用程式可以確認兩個錨點由發出查詢附近的錨點的連線。 當查詢的結果包含目標錨點時，驗證錨點連線。 如果錨點不會連線，應用程式可以嘗試重新連接它們。 

以下是一些為什麼錨點可能會無法連線的原因：

* 基礎混合實境或擴增實境平台中斷連線的錨點的程序期間的追蹤。
* 因為與此空間的錨點的服務進行通訊的網路錯誤，無法保存錨點的連線。

### <a name="find-sample-code"></a>程式碼範例

若要尋找如何連線錨點，以及鄰近的查詢執行的範例程式碼，請參閱[空間的錨點範例應用程式](https://github.com/Azure/azure-spatial-anchors-samples)。
