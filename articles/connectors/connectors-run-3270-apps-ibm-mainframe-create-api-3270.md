---
title: 使用 Azure Azure Logic Apps 連接到 IBM 大型主機上的3270應用程式
description: 使用 Azure Logic Apps 和 IBM 3270 連接器整合和自動化3270螢幕驅動應用程式與 Azure
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ChristopherHouser
ms.author: chrishou
ms.reviewer: estfan, valthom
ms.topic: article
ms.date: 03/06/2019
tags: connectors
ms.openlocfilehash: 50b8fc6b6a350d0a5982cc84f94067979d018cce
ms.sourcegitcommit: bba811bd615077dc0610c7435e4513b184fbed19
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/27/2019
ms.locfileid: "70050684"
---
# <a name="integrate-3270-screen-driven-apps-on-ibm-mainframes-with-azure-by-using-azure-logic-apps-and-ibm-3270-connector"></a>使用 Azure Logic Apps 和 IBM 3270 連接器, 整合 IBM 大型主機上的3270螢幕驅動應用程式與 Azure

> [!NOTE]
> 此連接器處於[*公開預覽*](https://azure.microsoft.com/support/legal/preview-supplemental-terms/)狀態。 

使用 Azure Logic Apps 和 IBM 3270 連接器, 您可以透過流覽3270模擬器畫面, 來存取及執行通常會驅動的 IBM 大型主機應用程式。 如此一來, 您就可以使用 Azure Logic Apps 建立自動化工作流程, 將您的 IBM 大型主機應用程式與 Azure、Microsoft 和其他應用程式、服務和系統整合在一起。 連接器會使用 TN3270 通訊協定與 IBM 大型主機通訊, 並在 Azure Government 和 Azure 中國世紀以外的所有 Azure Logic Apps 區域中提供。 如果您不熟悉邏輯應用程式，請檢閱[什麼是 Azure Logic Apps？](../logic-apps/logic-apps-overview.md)

本文說明使用3270連接器的下列各方面: 

* 為何要在 Azure Logic Apps 中使用 IBM 3270 連接器, 以及連接器如何執行3270螢幕驅動應用程式

* 使用3270連接器的必要條件和設定

* 將3270連接器動作新增至邏輯應用程式的步驟

## <a name="why-use-this-connector"></a>為何要使用此連接器？

若要存取 IBM 大型主機上的應用程式, 您通常會使用3270終端機模擬器, 通常稱為「綠色畫面」。 這個方法是經過時間測試的方式, 但有一些限制。 雖然 Host Integration Server (他) 可協助您直接使用這些應用程式, 但有時可能無法區分螢幕和商務邏輯。 或者, 您可能不再擁有主機應用程式如何工作的資訊。

為了擴充這些案例, Azure Logic Apps 中的 IBM 3270 連接器適用于3270設計工具, 您可以用它來記錄或「capture」, 用於特定工作的主機畫面, 透過您的大型主機應用程式定義該工作的導覽流程, 並定義具有該工作之輸入和輸出參數的方法。 當您從邏輯應用程式呼叫代表該工作的動作時, 設計工具會將該資訊轉換成3270連接器所使用的中繼資料。

從設計工具產生中繼資料檔案之後, 您可以將該檔案新增至 Azure 中的整合帳戶。 如此一來, 當您新增3270連接器動作時, 邏輯應用程式就可以存取您應用程式的中繼資料。 連接器會從您的整合帳戶讀取中繼資料檔案、處理3270畫面的流覽, 並動態呈現3270連接器動作的參數。 接著, 您可以將資料提供給主應用程式, 連接器會將結果傳回您的邏輯應用程式。 如此一來, 您就可以將繼承應用程式與 Azure、Microsoft 以及 Azure Logic Apps 支援的其他應用程式、服務和系統整合在一起。

## <a name="prerequisites"></a>必要條件

* Azure 訂用帳戶。 如果您沒有 Azure 訂用帳戶，請先[註冊免費的 Azure 帳戶](https://azure.microsoft.com/free/)。

* [如何建立邏輯應用程式](../logic-apps/quickstart-create-first-logic-app-workflow.md)的基本知識

* 建議使用：[整合服務環境 (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment.md) 

  您可以選取此環境做為建立和執行邏輯應用程式的位置。 ISE 可讓您從邏輯應用程式存取 Azure 虛擬網路內受保護的資源。

* 用於自動化和執行3270螢幕驅動應用程式的邏輯應用程式

  IBM 3270 連接器沒有觸發程式, 因此請使用另一個觸發程式來啟動邏輯應用程式, 例如**週期**觸發程式。 接著, 您可以新增3270連接器動作。 若要開始使用, 請[建立空白邏輯應用程式](../logic-apps/quickstart-create-first-logic-app-workflow.md)。 
  如果您使用 ISE, 請選取該 ISE 作為邏輯應用程式的位置。

* [下載並安裝3270設計工具](https://aka.ms/3270-design-tool-download)。
唯一的先決條件是[Microsoft .NET Framework 4.6.1](https://aka.ms/net-framework-download)。

  這項工具可協助您記錄應用程式中您新增並以3270連接器動作執行之工作的畫面、導覽路徑、方法和參數。 此工具會產生主機整合設計工具 XML (HIDX) 檔案, 以提供連接器用來驅動您的大型主機應用程式所需的中繼資料。
  
  下載並安裝此工具之後, 請遵循下列步驟來連接到您的主機:

  1. 開啟3270設計工具。 從 [**會話**] 功能表選取 [**主機會話**]。
  
  1. 提供您的 TN3270 主機伺服器資訊。

* [整合帳戶](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md), 這是您將 HIDX 檔案儲存為對應的位置, 讓邏輯應用程式可以存取該檔案中的中繼資料和方法定義。 

  請確定您的整合帳戶已連結至您所使用的邏輯應用程式。 此外, 如果您使用 ISE, 請確定您的整合帳戶位置與邏輯應用程式所使用的 ISE 相同。

* 存取裝載您的大型主機應用程式的 TN3270 伺服器

<a name="define-app-metadata"></a>

## <a name="create-metadata-overview"></a>建立中繼資料總覽

在3270螢幕驅動的應用程式中, 畫面和資料欄位對於您的案例而言是唯一的, 因此3270連接器需要您應用程式的這項資訊, 您可以將它當做中繼資料提供。 此中繼資料描述的資訊可協助您的邏輯應用程式識別和辨識畫面、描述如何在畫面之間流覽、輸入資料的位置, 以及預期結果的位置。 若要指定並產生此中繼資料, 請使用3270設計工具, 它會逐步引導您完成這些特定*模式*或階段, 如稍後的更多詳細資料所述:

* **Capture**:在此模式中, 您會記錄使用您的大型主機應用程式完成特定工作所需的畫面, 例如, 取得銀行餘額。

* **導覽**:在此模式中, 您可以針對特定工作, 指定如何流覽大型主機應用程式畫面的方案或路徑。

* **方法**:在此模式中, 您會定義方法 (例如`GetBalance`,), 以描述螢幕導覽路徑。 您也可以選擇每個畫面上的欄位, 以成為方法的輸入和輸出參數。

### <a name="unsupported-elements"></a>不支援的元素

設計工具不支援下列元素:

* 部分 IBM 基本對應支援 (BMS) 對應:如果您匯入 BMS 對應, 則設計工具會忽略部分螢幕定義。
* In/Out 參數:您不能定義 In/Out 參數。
* 功能表處理:預覽期間不支援
* 陣列處理:預覽期間不支援

<a name="capture-screens"></a>

## <a name="capture-screens"></a>捕捉畫面

在此模式中, 您會在每個可唯一識別該畫面的3270畫面上標示專案。 例如, 您可以指定一行文字或一組更複雜的條件, 例如特定文字和非空白欄位。 您可以透過與主機伺服器的即時連線來記錄這些畫面, 或從 IBM 基本對應支援 (BMS) 對應匯入這項資訊。 即時連線會使用 TN3270 模擬器來連接到主機。 每個連接器動作都必須對應至單一工作, 其開頭為連接到您的會話, 並在中斷與會話的連線後結束。

1. 如果您還沒有這麼做, 請開啟3270設計工具。 在工具列上, 選擇 [ **capture** ], 讓您進入 [capture] 模式。

1. 若要開始錄製, 請按 F5 鍵, 或從 [**錄製**] 功能表中選取 [**開始錄製**]。 

1. 從 [**會話**] 功能表中, 選取 **[連線]** 。

1. 在 [ **Capture** ] 窗格中, 從您應用程式的第一個畫面開始, 逐步執行您的應用程式, 以執行您要錄製的特定工作。

1. 完成工作之後, 請從您的應用程式登出, 就像平常一樣。

1. 從 [**會話**] 功能表中, 選取 **[中斷連線]** 。

1. 若要停止錄製, 請按 Shift + F5 鍵, 或從 [**錄製**] 功能表中, 選取 [**停止錄製**]。

   在您為工作捕捉畫面之後, 設計工具會顯示代表這些畫面的縮圖。 這些縮圖的一些注意事項:

   * 包含在您已捕捉的畫面中, 您會有一個名為「空白」的畫面。

     當您第一次連接到[CICS](https://www.ibm.com/it-infrastructure/z/cics)時, 必須先傳送「清除」金鑰, 才能輸入您要執行的交易名稱。 您傳送「清除」金鑰的畫面沒有任何辨識*屬性*, 例如螢幕標題, 您可以使用 [螢幕辨識編輯器] 來新增。 若要表示此畫面, 縮圖會包含一個名為 "Empty" 的畫面。 您稍後可以使用此畫面來代表您輸入交易名稱的畫面。

   * 根據預設, 已捕捉畫面的名稱會使用畫面上的第一個單字。 如果該名稱已存在, 則設計工具會在名稱後面加上底線和數位, 例如 "WBGB" 和 "WBGB_1"。

1. 若要為已捕捉的畫面提供更有意義的名稱, 請遵循下列步驟:

   1. 在 [**主機畫面**] 窗格中, 選取您要重新命名的畫面。

   1. 在相同窗格中, 在相同窗格的底部附近, 尋找 [**螢幕名稱**] 屬性。

   1. 將目前的螢幕名稱變更為更具描述性的名稱。

1. 現在指定用來識別每個畫面的欄位。

   使用3270資料流程, 螢幕沒有預設識別碼, 因此您必須在每個畫面上選取唯一的文字。 針對複雜的案例, 您可以指定多個條件, 例如, 唯一的文字和具有特定條件的欄位。

在您完成選取辨識欄位之後, 請移至下一個模式。

### <a name="conditions-for-identifying-repeated-screens"></a>識別重複畫面的條件

若要讓連接器導覽並區分螢幕, 您通常會在畫面上找到唯一的文字, 您可以在此螢幕上用來作為已捕捉畫面的識別碼。 對於重複的畫面, 您可能需要更多的識別方法。 例如, 假設您有兩個外觀相同的畫面, 但一個畫面傳回有效的值, 而另一個畫面傳回錯誤訊息。

在設計工具中, 您可以使用 [螢幕辨識編輯器] 來新增辨識*屬性*(例如, 「取得帳戶餘額」等螢幕標題)。 如果您有分支路徑, 而且這兩個分支都傳回相同的畫面, 但結果不同, 則您需要其他辨識屬性。 在執行時間, 連接器會使用這些屬性來判斷目前的分支和分叉。 以下是您可以使用的條件:

* 特定值:這個值符合指定之位置的指定字串。
* 不是特定值:這個值不符合指定位置的指定字串。
* 空此欄位是空的。
* 不是空的:此欄位不是空的。

若要深入瞭解, 請參閱本主題稍後的[範例導覽計畫](#example-plan)。

<a name="define-navigation"></a>

## <a name="define-navigation-plans"></a>定義導覽計畫

在此模式中, 您會定義流程或步驟, 以流覽您的特定工作的大型主機應用程式畫面。 例如, 有時候您可能會有一個以上的路徑, 讓您的應用程式可以在其中一個路徑產生正確的結果時採取, 而另一個路徑則會產生錯誤。 針對每個畫面, 指定移到下一個畫面所需的按鍵, 例如`CICSPROD <enter>`。

> [!TIP]
> 如果您要自動化數個使用相同 [連接] 和 [中斷連線] 畫面的工作, 設計工具會提供特殊的 [連接] 和 [中斷連接] 計畫類型。 當您定義這些計畫時, 可以將它們加入導覽計畫的開始和結束。

### <a name="guidelines-for-plan-definitions"></a>計畫定義的指導方針

* 包含所有畫面, 從連接和結束中斷連線開始。

* 您可以建立獨立方案或使用 [連接和中斷連線計畫], 讓您重複使用一系列的畫面來處理所有的交易。

  * 您的 Connect 計畫中的最後一個畫面, 必須與導覽計畫中的第一個畫面是相同的畫面。

  * 中斷連線計畫中的第一個畫面, 必須與導覽計畫中的最後一個畫面相同。

* 您的已捕捉畫面可能包含許多重複的畫面, 因此請在您的方案中選取並僅使用任何重複畫面的一個實例。 以下是一些重複畫面的範例:

  * 登入畫面, 例如, [**消息-10** ] 畫面
  * CICS 的歡迎畫面
  * 「清除」或**空白**畫面

<a name="create-plans"></a>

### <a name="create-plans"></a>建立方案

1. 在3270設計工具的工具列上, 選擇 [**導覽**], 讓您進入瀏覽模式。

1. 若要啟動您的方案, 請在**流覽**窗格中選擇 [**新增方案**]。

1. 在 **[選擇新方案名稱**] 下, 輸入方案的名稱。 從 [**類型**] 清單中, 選取方案類型:

   | 方案類型 | 描述 |
   |-----------|-------------|
   | **處理程序** | 適用于獨立或合併計畫 |
   | **連線** | 適用于連接計畫 |
   | **取消** | 適用于中斷連線計畫 |
   |||

1. 從 [**主機畫面**] 窗格, 將已捕獲的縮圖拖曳至**流覽**窗格中的導覽計畫介面。

   若要代表您在其中輸入交易名稱的空白畫面, 請使用 [空白] 畫面。

1. 以描述您所定義之工作的順序排列畫面。

1. 若要定義螢幕之間的流程路徑, 包括分支和聯結, 請在設計工具的工具列上選擇 [**流程**]。

1. 選擇流程中的第一個畫面。 將連接拖曳並繪製到流程中的下一個畫面。

1. 針對每個畫面, 提供 [**輔助**索引] 屬性的值 (注意識別碼) 和 [**固定文字**] 屬性的值, 這會將流程移至下一個畫面。

   您可能只有輔助按鍵, 或是輔助按鍵和固定文字。

完成導覽計畫之後, 您可以[在下一個模式中定義方法](#define-method)。

<a name="example-plan"></a>

### <a name="example"></a>範例

在此範例中, 假設您執行名為 "WBGB" 的 CICS 交易, 其中具有下列步驟: 

* 在第一個畫面上, 輸入名稱和帳戶。
* 在第二個畫面上, 您會取得帳戶餘額。
* 您結束了「空白」畫面。
* 您從 CICS 登出到 "MSG-10" 畫面。

此外, 假設您重複這些步驟, 但您輸入的資料不正確, 因此您可以捕捉顯示錯誤的畫面。 以下是您所捕捉的畫面:

* MSG-10
* CICS 歡迎使用
* 空白
* WBGB_1 (輸入)
* WBGB_2 (錯誤)
* Empty_1
* MSG-10_1

雖然這裡有許多畫面會取得唯一的名稱, 但有些畫面是相同的畫面, 例如 "MSG-10" 和 "Empty"。 針對重複的畫面, 在您的方案中, 針對該畫面只使用一個實例。 以下範例示範獨立方案、Connect 計畫、中斷連接計畫, 以及合併的計畫可能的外觀:

* 獨立方案

  ![獨立導覽計畫](./media/connectors-create-api-3270/standalone-plan.png)

* Connect 方案

  ![Connect 方案](./media/connectors-create-api-3270/connect-plan.png)

* 中斷連線計畫

  ![中斷連線計畫](./media/connectors-create-api-3270/disconnect-plan.png)

* 合併計畫

  ![合併計畫](./media/connectors-create-api-3270/combined-plan.png)

#### <a name="example-identify-repeated-screens"></a>範例：識別重複畫面

若要讓連接器流覽並區分畫面, 您通常會在畫面上找到唯一的文字, 您可以在整個已捕獲畫面上用來作為識別碼。 對於重複的畫面, 您可能需要更多的識別方法。 範例方案有一個分叉, 您可以在其中取得看起來類似的畫面。 一個畫面會傳回帳戶餘額, 而另一個畫面則會傳回錯誤訊息。

設計工具可讓您使用 [螢幕辨識編輯器] 來新增辨識屬性 (例如, 名為「取得帳戶餘額」的螢幕標題)。 在具有類似畫面的情況下, 您需要其他屬性。 在執行時間, 連接器會使用這些屬性來決定分支和分叉。

* 在傳回有效輸入 (此為帳戶餘額的螢幕) 的分支中, 您可以新增具有「不是空白」條件的欄位。

* 在傳回錯誤的分支中, 您可以加入具有「空白」條件的欄位。

<a name="define-method"></a>

## <a name="define-methods"></a>定義方法

在此模式中, 您會定義與您的導覽計畫相關聯的方法。 針對每個方法參數, 您可以指定資料類型, 例如字串、整數、日期或時間等等。 當您完成時, 您可以在即時主機上測試方法, 並確認方法如預期般運作。 接著, 您會產生中繼資料檔案或 Host Integration Designer XML (HIDX) 檔案, 而此檔案現在具有用於建立和執行 IBM 3270 連接器之動作的方法定義。

1. 在3270設計工具的工具列上, 選擇 [**方法**], 讓您輸入方法模式。 

1. 在**流覽**窗格中, 選取具有您想要之輸入欄位的畫面。

1. 若要為您的方法新增第一個輸入參數, 請遵循下列步驟:

   1. 在 [**捕捉**] 窗格的 [3270 模擬器] 畫面上, 選擇您想要做為第一個輸入的整個欄位, 而不只是欄位內的文字。

      > [!TIP]
      > 若要顯示所有欄位, 並確定選取 [完成] 欄位, 請在 [ **View** ] 功能表上選取 [**所有欄位**]。

   1. 在設計工具的工具列上, 選擇 [**輸入欄位**]。 

   若要新增更多輸入參數, 請對每個參數重複前面的步驟。

1. 若要為您的方法新增第一個輸出參數, 請遵循下列步驟:

   1. 在 [**捕捉**] 窗格的 [3270 模擬器] 畫面上, 選擇您想要做為第一個輸出的整個欄位, 而不只是欄位內的文字。

      > [!TIP]
      > 若要顯示所有欄位, 並確定選取 [完成] 欄位, 請在 [ **View** ] 功能表上選取 [**所有欄位**]。

   1. 在設計工具的工具列上, 選擇 [**輸出欄位**]。

   若要新增更多輸出參數, 請對每個參數重複上述步驟。

1. 在您新增所有方法的參數之後, 請為每個參數定義下列屬性:

   | 屬性名稱 | 可能的值 | 
   |---------------|-----------------|
   | **資料類型** | Byte、Date Time、Decimal、Int、Long、Short、String |
   | **欄位填滿技術** | 參數支援這些填滿類型, 如有必要, 請填妥空白: <p><p>- **類型**:依序在欄位中輸入字元。 <p>- **填滿**:以字元取代欄位的內容, 如有必要, 請以空格填滿。 <p>- **EraseEofType**:清除欄位, 然後在欄位中依序輸入字元。 |
   | **格式字串** | 某些參數資料類型使用格式字串, 它會通知3270連接器如何將畫面中的文字轉換成 .NET 資料類型: <p><p>- **DateTime**:日期時間格式字串會遵循[.net 自訂日期和時間格式字串](https://docs.microsoft.com/dotnet/standard/base-types/custom-date-and-time-format-strings)。 例如, 日期`06/30/2019`會使用格式字串`MM/dd/yyyy`。 <p>- **Decimal**:Decimal 格式字串使用[COBOL Picture 子句](https://www.ibm.com/support/knowledgecenter/SS6SG3_5.2.0/com.ibm.cobol52.ent.doc/PGandLR/ref/rlddepic.html)。 例如, 數位`100.35`會使用格式字串`999V99`。 |
   |||

## <a name="save-and-view-metadata"></a>儲存及查看中繼資料

在您定義方法之後, 但在測試方法之前, 請先將您目前定義的所有資訊儲存到 RAP (rap) 檔案。
在任何模式中, 您都可以在任何時間儲存至此 RAP 檔案。 設計工具也包含一個範例 RAP 檔案, 您可以在此位置流覽至設計工具的安裝資料夾, 然後開啟 "Microsoft.samples.biztalk.woodgrovebank.stubpendingtransactions" 檔案來加以檢查:

`..\Program Files\Microsoft Host Integration Server - 3270 Design Tool\SDK\WoodgroveBank.rap`

不過, 如果您嘗試將變更儲存至範例 rap 檔案, 或在檔案留在設計工具的安裝資料夾中時, 從範例 RAP 檔案產生 HIDX 檔案, 您可能會收到「拒絕存取」錯誤。 根據預設, 設計工具會在您的 Program Files 資料夾中安裝, 而不會有較高的許可權。 如果您收到錯誤, 請嘗試下列其中一個解決方案:

* 將範例檔案複製到不同的位置。
* 以系統管理員身分執行設計工具。
* 讓自己成為 SDK 資料夾的擁有者。

## <a name="test-your-method"></a>測試您的方法

1. 若要對即時主機執行您的方法, 但仍在方法模式中, 請按 F5 鍵, 或從設計工具的工具列中, 選擇 [**執行**]。

   > [!TIP]
   > 您可以隨時變更模式。 在 [檔案] 功能表上, 選取 [**模式]** , 然後選取您想要的模式。

1. 輸入參數的值, 然後選擇 **[確定]** 。

1. 若要繼續前往下一個畫面, 請選擇 **[下一步]** 。

1. 當您完成時, 請選擇 [**完成**], 這會顯示您的輸出參數值。

<a name="add-metadata-integration-account"></a>

## <a name="generate-and-upload-hidx-file"></a>產生並上傳 HIDX 檔案

當您準備好時, 產生 HIDX 檔案, 讓您可以上傳至您的整合帳戶。 3270設計工具會在您儲存 RAP 檔案的新子資料夾中建立 HIDX 檔案。

1. 在3270設計工具的工具列上, 選擇 [**產生程式碼**]。

1. 移至包含 RAP 檔案的資料夾, 然後開啟工具產生 HIDX 檔案之後所建立的子資料夾。 確認工具已建立 HIDX 檔案。

1. 登入[Azure 入口網站](https://portal.azure.com), 並尋找您的整合帳戶。

1. [遵循這些與新增對應的步驟](../logic-apps/logic-apps-enterprise-integration-liquid-transform.md), 將您的 HIDX 檔案新增為您整合帳戶的對應, 但當您選取對應類型時, 請選取 [ **HIDX**]。

稍後在本主題中, 當您第一次將 IBM 3270 動作新增至邏輯應用程式時, 系統會提示您提供連線資訊 (例如整合帳戶和主機伺服器的名稱), 以在邏輯應用程式與主機伺服器之間建立連接. 建立連接之後, 您可以選取先前新增的 HIDX 檔案、要執行的方法, 以及要使用的參數。

當您完成所有這些步驟時, 您可以使用您在邏輯應用程式中建立的動作來連線到 IBM 大型主機、為您的應用程式驅動畫面、輸入資料、傳回結果等等。 您也可以繼續將其他動作新增至邏輯應用程式, 以便與其他應用程式、服務和系統整合。

<a name="run-action"></a>

## <a name="run-ibm-3270-actions"></a>執行 IBM 3270 動作

[!INCLUDE [Create connection general intro](../../includes/connectors-create-connection-general-intro.md)]

1. 登入 [Azure 入口網站](https://portal.azure.com)，如果邏輯應用程式尚未開啟，請在邏輯應用程式設計工具中開啟邏輯應用程式。

1. 在您要新增動作的最後一個步驟底下, 選擇 [**新增步驟**], 然後選取 [新增**動作**]。 

1. 在搜尋方塊底下, 選擇 [**企業**]。 在搜尋方塊中, 輸入 "3270" 作為篩選準則。 從 [動作] 清單中，選取此動作：**透過 TN3270 連接執行大型主機程式**

   ![選取3270動作](./media/connectors-create-api-3270/select-3270-action.png)

   若要在步驟之間新增動作，將指標移至步驟之間的箭號。 
   選擇顯示的加號 ( **+** )，然後選取 [新增動作]。

1. 如果尚無連線存在, 請提供連線所需的資訊, 然後選擇 [**建立**]。

   | 屬性 | 必要項 | Value | 描述 |
   |----------|----------|-------|-------------|
   | 連線名稱 | 是 | <*connection-name*> | 您連線的名稱 |
   | **整合帳戶識別碼** | 是 | <*integration-account-name*> | 您的整合帳戶名稱 |
   | **整合帳戶 SAS URL** | 是 | <*integration-account-SAS-URL*> | 您的整合帳戶的共用存取簽章 (SAS) URL, 您可以從 Azure 入口網站中整合帳戶的設定產生。 <p>1.在您的整合帳戶功能表的 [**設定**] 底下, 選取 [**回呼 URL**]。 <br>2.在右窗格中, 複製 [產生的**回呼 URL** ] 值。 |
   | **伺服器** | 是 | <*TN3270-server-name*> | TN3270 服務的伺服器名稱 |
   | **連接埠** | 否 | <*TN3270-server-port*> | TN3270 伺服器所使用的埠。 如果保留空白, 連接器會使用`23`做為預設值。 |
   | **裝置類型** | 否 | <*IBM-終端機模型*> | 要模擬之 IBM 終端機的型號名稱或編號。 如果保留空白, 連接器會使用預設值。 |
   | **字碼頁** | 否 | <*code-page-number*> | 主機的字碼頁編號。 如果保留空白, 連接器會使用`37`做為預設值。 |
   | **邏輯單元名稱** | 否 | <*logical-unit-name*> | 要向主機要求的特定邏輯單元名稱 |
   | **是否啟用 SSL？** | 否 | 開啟或關閉 | 開啟或關閉 SSL 加密。 |
   | **要驗證主機 ssl 憑證嗎？** | 否 | 開啟或關閉 | 開啟或關閉伺服器憑證的驗證。 |
   ||||

   例如:

   ![連線屬性](./media/connectors-create-api-3270/connection-properties.png)

1. 提供動作的必要資訊:

   | 屬性 | 必要項 | Value | 描述 |
   |----------|----------|-------|-------------|
   | **Hidx 名稱** | 是 | <*HIDX-檔案名*> | 選取您要使用的 3270 HIDX 檔案。 |
   | **方法名稱** | 是 | <*方法名稱*> | 在 HIDX 檔案中選取您想要使用的方法。 選取方法之後, 就會出現 [**加入新的參數**] 清單, 讓您可以選取要與該方法搭配使用的參數。 |
   ||||

   例如:

   **選取 HIDX 檔案**

   ![選取 HIDX 檔案](./media/connectors-create-api-3270/select-hidx-file.png)

   **選取方法**

   ![選取方法](./media/connectors-create-api-3270/select-method.png)

   **選取參數**

   ![選取參數](./media/connectors-create-api-3270/add-parameters.png)

1. 當您完成時, 請儲存並執行邏輯應用程式。

   邏輯應用程式執行完成之後, 就會出現回合中的步驟。 
   成功的步驟會顯示核取記號, 而不成功的步驟會顯示字母 "X"。

1. 若要檢查每個步驟的輸入和輸出, 請展開該步驟。

1. 若要查看輸出, 請選擇 [**查看原始輸出**]。

## <a name="connector-reference"></a>連接器參考

如需有關觸發程式、動作和限制的技術詳細資料 (由連接器的 OpenAPI (先前稱為 Swagger) 描述所描述), 請參閱[連接器的參考頁面](/connectors/si3270/)。

## <a name="next-steps"></a>後續步驟

* 了解其他 [Logic Apps 連接器](../connectors/apis-list.md)
