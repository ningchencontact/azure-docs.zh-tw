---
title: 適用於預測性維護解決方案的 AI 指南 | Microsoft Docs
description: 資料科學的完整描述，可提供多個垂直產業的預測性維護解決方案。
services: machine-learning
author: fboylu
manager: cgronlun
editor: cgronlun
ms.assetid: 2e8b66db-91eb-432b-b305-6abccca25620
ms.service: machine-learning
ms.component: team-data-science-process
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/11/2018
ms.author: fboylu
ms.openlocfilehash: 2a5d8540dba491dec8b2da227b0e84c10ff09c77
ms.sourcegitcommit: b4a46897fa52b1e04dd31e30677023a29d9ee0d9
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/17/2018
ms.locfileid: "49394987"
---
# <a name="azure-ai-guide-for-predictive-maintenance-solutions"></a>適用於預測性維護解決方案的 AI 指南

## <a name="summary"></a>總結

預測性維護 (**PdM**) 是熱門的預測性分析應用程式，可協助數個產業的企業達成高資產使用率並節省營運成本。 本指南結合了商務和分析指導方針，以及使用 [Microsoft Azure AI 平台](https://azure.microsoft.com/overview/ai-platform)技術順利開發及部署 PdM 解決方案的最佳做法。

對於入門者，本指南會介紹業界特有商務案例，以及限定這些 PdM 案例資格的程序。 此外，還提供建置 PdM 解決方案的資料需求和模型化技巧。 本指南的主要內容是關於資料科學程序 - 包括資料準備、特徵設計、模型建立及模型運算化的步驟。 為了補充這些重要概念，本指南列出一組解決方案範本，協助加速 PdM 應用程式開發。 本指南也會指向實用的訓練資源，以便實踐者深入了解資料科學背後的 AI。 

### <a name="data-science-guide-overview-and-target-audience"></a>資料科學指南概觀和適用對象
本指南的前半部說明典型的商業問題、實作 PdM 來解決這些問題的好處，以及列出一些常見的使用案例。 企業決策者 (BDM) 將受惠於此內容。 後半部說明 PdM 背後的資料科學，並提供使用本指南所述原則建置的 PdM 解決方案清單。 它也提供訓練資料的學習路徑和指標。 技術決策者 (TDM) 會發現此內容很實用。

| 開始使用 ... | 如果您是 ... |
|:---------------|:---------------|
| [預測性維護的商務案例](#Business-case-for-predictive-maintenance) |想要降低停機時間和營運成本，並改善設備使用率的企業決策者 (BDM) |
| [預測性維護的資料科學](#Data-Science-for-predictive-maintenance) |正在評估 PdM 技術，以了解預測性維護的唯一資料處理和 AI 需求的技術決策者 (TDM) |
| [預測性維護的解決方案範本](#Solution-templates-for-predictive-maintenance)|想要快速建立示範或概念證明的軟體架構設計人員或 AI 開發人員 |
| [預測性維護的訓練資源](#Training-resources-for-predictive-maintenance) | 上述任何或所有想要了解資料科學、工具和技巧背後基本概念的人員。

### <a name="prerequisite-knowledge"></a>必備知識
BDM 內容並未預期讀者事先具備任何的資料科學知識。 在 TDM 內容中，統計和資料科學的基本知識很有幫助。 建議具備 Azure 資料和 AI 服務、Python、R、XML 和 JSON 的知識。 在 Python 和 R 套件中會實作 AI 技巧。 使用 Azure 服務、開發工具和 SDK 可實作解決方案範本。

## <a name="business-case-for-predictive-maintenance"></a>預測性維護的商務案例

企業會要求重要設備能以尖峰效率和使用率執行，以實現其資本投資的報酬。 這些資產可能包括飛機引擎、渦輪機、電梯或工業用冷卻設備 (價值數百萬)，以至影印機、咖啡機或冷飲機等日常設備。
- 根據預設，大部分企業都很依賴「矯正性維護」，也就是在故障時更換零件。 矯正性維護可確保零件完全使用 (因而不浪費零件壽命)，但企業卻付出停機、人力和未排程維護需求 (停工時數，或據點不便) 的成本。
- 在下一個層次，企業會練習「預防性維護」，以判斷零件的使用年限，並且在故障前進行維護或更換。 預防性維護可避免事先未料到和重大的失敗。 但是排定停機時間的成本很高、零件在完整使用壽命之前的使用率偏低，以及人力仍繼續存在。
- 「預測性維護」的目的在於藉由啟用零件的 Just-In-Time 更換，讓矯正性與預防性維護之間達到最佳平衡。 這種方法只會在零件接近故障時進行更換。 企業可藉由延長零件壽命 (相較於預防性維護) 和減少未排程維護和人力成本 (透過矯正性維護)，獲得成本節省和競爭優勢。

## <a name="business-problems-in-pdm"></a>PdM 的業務問題
企業會面臨因為非預期的故障以及對複雜系統中的問題根本原因見解有限所引起的高營運風險。 部分的關鍵業務問題如下：

- 偵測設備或系統效能或功能異常。
- 預測資產是否可能在不久的將來發生故障。
- 評估設備的剩餘使用年限。
- 找出資產故障的主要原因。
- 找出需要在資產上進行的維護動作 (何時以前)。

PdM 的典型目標陳述如下：

- 降低任務關鍵性設備的運作風險。
- 在故障發生前進行預測，以提高資產報酬率。
- 啟用 Just-In-Time 維護作業，以控制維護成本。
- 降低客戶流失、改善品牌形象和損失的銷售額。
- 藉由預測再訂購點來降低庫存量，進而降低庫存成本。
- 探索與各種維護問題有關連的模式。
- 提供 KPI (關鍵效能指標)，例如資產狀況的健康情況分數。
- 估計資產的剩餘壽命。
- 建議適時的維護活動。
- 藉由評估零件更換的訂單日期，以啟用 Just-In-Time 清查。

上述目標陳述是下列各項的起點：

- _資料科學家_，用以分析和解決特定預測問題。
- _雲端架構設計人員和開發人員_，用以建置端對端解決方案。

## <a name="qualifying-problems-for-predictive-maintenance"></a>限定預測性維護的問題
在此務必強調，PdM 不一定能有效解決所有的使用案例或業務問題。 在選取問題期間，必須考量三個重要的限定準則：

- 此問題在本質上必須具預測性；也就是說，應該有可預測的目標或結果。 此問題也應該有清楚的動作路徑，以便在偵測到故障時加以預防。
- 此問題應該有設備的運作歷程記錄，包含「良好和不良結果」。 在這些記錄中，應該也可取得緩和不良結果的動作集合。 錯誤報告、效能降低的維護記錄，以及維修、更換記錄也很重要。 此外，為了改善情況所採取的維修，以及更換記錄也很實用。
- 所記錄的歷程記錄應反映在品質「足以」支援使用案例的「相關」資料中。 如需資料相關性和充足性的詳細資訊，請參閱[預測性維護的資料需求](#Data-requirements-for-predictive-maintenance)。
- 最後，企業必須有清楚了解問題的領域專家。 他們應留意內部程序和做法，才能夠協助分析師了解及解譯資料。 此外，也應該能夠對現有的業務流程進行必要的變更，以視需要協助針對問題收集正確的資料。

## <a name="sample-pdm-use-cases"></a>範例 PdM 使用案例
本節著重於好幾個產業 (如航太、公用事業和運輸) 的各種 PdM 使用案例。 每個區段的開頭都是業務問題，並討論 PdM 的優點、以業務問題為主的相關資料，最後再找出 PdM 解決方案的優點。

| 業務問題 | PdM 的優點 |
|:-----------------|-------------------|
|**航空**      |                   |
|機械問題所造成的「航班延誤和取消」。 無法及時修復的故障可能會導致航班取消，並且中斷排程和營運。 |PdM 解決方案可以預測飛機因為機械故障而延遲或取消的機率。|
|飛機引擎零件故障：飛機引擎零件更換是航空業界最常見的維護工作。 維護解決方案需要審慎管理零組件存貨的可用性、遞送和規劃。|能夠蒐集零組件可靠性的情報消息，將使投資成本大幅降低。|
|**金融** |                         |
|_ATM 故障_是銀行業界常見的問題。 此處的問題在於報告 ATM 現金提款交易因為提款機卡紙或零件故障而中斷的機率。 根據交易失敗的預測，即可主動檢修 ATM 以避免發生故障。| 理想的替代方案是將電腦程式設計為根據預測拒絕服務，而不是讓電腦在交易過程中故障。|
|**能源** |                          |
|_風力渦輪機故障_：風力渦輪機是環保國家/地區的主要能源來源，需投入很高的資金成本。 發電機組馬達是風力渦輪機的重要零件。 如果發生故障，就表示渦輪機的效率不彰。 其修理成本也極為昂貴。|預測 KPI (例如 MTTF (平均失效時間))，可協助能源公司預防渦輪機故障，並確保最少的停機時間。 故障機率可讓技術人員知道要監視可能很快會故障的渦輪機，並安排以時間為基礎的維護制度。 預測性模型可提供各種造成故障的因素見解，進而協助技術人員進一步了解問題的根本原因。|
|斷路器故障：將電力配送到家庭與企業時，電源線必須一直正常運作，才能保證能源傳遞。 斷路器有助於限制或避免電源線在超載或天候不良的情況下受損。 此處的業務問題在於斷路器故障的預測。| PdM 解決方案有助於降低維修成本及提高設備 (例如斷路器) 的壽命。 而且藉由降低非預期的故障與服務中斷，協助改善電力網路品質。|
|**運輸和物流** |    |
|電梯門故障：大型電梯公司會為世界各地數百萬台電梯提供全套服務。 電梯安全性、可靠性和運作時間是其客戶的主要考量。 這些公司會透過感應器追蹤上述各項和其他各種屬性，以協助他們進行矯正性和預防性維護。 在電梯中，最顯著的客戶問題就是電梯門故障。 這個案例的業務問題在於提供一個知識庫預測性應用程式，用來預測電梯門故障的可能原因。| 電梯是可能長達 20-30 年使用期限的資本投資。 所以每筆潛在銷售的競爭都很激烈，因此對於服務和支援的期望都很高。 預測性維護可為這些公司在產品和服務供應項目方面，提供超越其競爭者的優勢。|
|車輪故障：車輪故障佔所有火車出軌的一半因素，讓全球鐵道業付出數百美元的代價。 車輪故障也會導致軌道惡化，有時會導致軌道提前斷裂。 軌道斷裂會造成出軌等災難性事件。 為了避免這類情況，鐵路公司會監視車輪的效能，並以預防性方式進行更換。 此處的業務問題在於車輪故障的預測。| 車輪的預測性維護有助於車輪的 Just-In-Time 更換。 |
|地鐵列車門故障：列車的車門故障是地鐵誤點的主要原因之一。 此處的業務問題在於列車門故障的預測。|早期感知車門故障，或車門故障前的天數，都有助於企業將列車車門服務排程最佳化。|

下一節提供如何實現上述 PdM 優點的詳細資訊。

## <a name="data-science-for-predictive-maintenance"></a>預測性維護的資料科學

這一節提供 PdM 資料科學原則和做法的一般指導方針。 旨在協助 TDM、解決方案架構設計人員或開發人員了解建置適用於 PdM 的端對端 AI 應用程式的先決條件和程序。 您可以閱讀本節，以及檢閱[預測性維護的解決方案範本](#Solution-templates-for-predictive-maintenance)中所列的示範和概念證明範本。 您可以接著使用這些原則和最佳做法，以在 Azure 中實作 PdM 解決方案。

> [!NOTE]
> 本指南的目的不是要教導讀者了解資料科學。 [預測性維護的訓練資源](#Training-resources-for-predictive-maintenance)一節中提供了幾個有用的來源，可供進一步閱讀。 本指南中所列的[解決方案範本](#Solution-templates-for-predictive-maintenance)會針對特定 PdM 問題示範一些 AI 技巧。

## <a name="data-requirements-for-predictive-maintenance"></a>預測性維護的資料需求

所有學習的成功與否都取決於 (a) 教學的品質，以及 (b) 學習者的能力。 預測性模型會從過去的資料中學習一些模式，並使用以這些觀察到的模式為基礎的特定機率來預測未來結果。 模型的預測精確度取決於訓練和測試資料的相關性、充足性和品質。 使用此模型「計分」的新資料應該與訓練/測試資料具有相同的特徵和結構描述。 新資料的特徵特性 (類型、密度、分布等等) 應該與訓練和測試資料集相符。 這一節的重點在於這類資料需求。

### <a name="relevant-data"></a>相關資料

首先，資料必須「與問題相關」。 請考慮以上所討論的「車輪故障」使用案例 - 訓練資料應包含與車輪運作相關的特徵。 如果問題是要預測「牽引系統」的故障，則訓練資料必須包含牽引系統的各種零件。 第一個案例的目標是特定零件，而第二項案例的目標是大型子系統的故障。 一般建議是設計有關特定零件 (而非大型子系統) 的預測系統，因為後者會有更分散的資料。 領域專家 (請參閱[限定預測性維護的問題](#Qualifying-problems-for-predictive-maintenance)) 應協助選取最相關的資料子集以供分析。 [預測性維護的資料準備](#Data-preparation-for-predictive-maintenance)中會更詳細地討論相關的資料來源。

### <a name="sufficient-data"></a>足夠的資料
有關故障歷程記錄資料的兩個常見問題：(1) 「需要多少個故障事件才能訓練模型？」 (2)「多少筆記錄才可視為『足夠』？」沒有明確的解答，而只有經驗法則。 針對問題 (1)，故障事件數目愈多，模型愈佳。 針對問題 (2)，確切的故障事件數目取決於資料和所要解決之問題的內容。 但另一方面，如果機器太常故障，企業就會換掉它，以減少故障情況。 再次重申，領域專家的指導方針很重要。 不過，有一些方法可以處理「罕見事件」的問題。 [處理不平衡的資料](#Handling-imbalanced-data)一節會討論這些方法。

### <a name="quality-data"></a>品質資料
資料品質很重要 - 每個預測屬性值必須「精確」配合目標變數的值。 資料品質是在統計和資料管理中研究完善的領域，因此不在本指南的討論範圍內。

> [!NOTE]
> 有數個資源和企業產品可提供有品質的資料。 參考範例如下所示：
> - Dasu, T, Johnson, T., Exploratory Data Mining and Data Cleaning, Wiley, 2003.
> - [探勘資料分析 (維基百科)](https://en.wikipedia.org/wiki/Exploratory_data_analysis)
> - [Hellerstein, J, Quantitative Data Cleaning for Large Databases](http://db.cs.berkeley.edu/jmh/papers/cleaning-unece.pdf)
> - [de Jonge, E, van der loo, M, Introduction to Data Cleaning with R](https://cran.r-project.org/doc/contrib/de_Jonge+van_der_Loo-Introduction_to_data_cleaning_with_R.pdf)

## <a name="data-preparation-for-predictive-maintenance"></a>預測性維護的資料準備

### <a name="data-sources"></a>資料來源

預測性維護的相關資料來源包括但不限於：
- 故障歷程記錄
- 維護/維修歷程記錄
- 機器運作狀況
- 設備中繼資料

#### <a name="failure-history"></a>故障歷程記錄
在 PdM 應用程式中，故障事件很少見。 不過，在建立預測模型時，此演算法需要了解零件的正常運作模式和故障模式。 因此訓練資料應包含來自這兩個類別的足夠範例數。 維護記錄和零件更換歷程記錄是尋找故障事件的好來源。 在某些領域知識的輔助下，也可以將訓練資料中的異常定義為故障。

#### <a name="maintenancerepair-history"></a>維護/維修歷程記錄
資產的維護歷程記錄包含有關所更換零件、所執行維修活動的詳細資料。這些事件會記錄降低模式。 訓練資料中缺少這項重要資訊，可能會導致誤導的模型結果。 在維護歷程記錄中也可以找到故障歷程記錄，其以特殊錯誤碼或零件的訂單日期呈現。 領域專家應調查和提供影響故障模式的其他資料來源。

#### <a name="machine-operating-conditions"></a>機器運作狀況
運作中設備的感應器 (或其他) 串流資料是很重要的資料來源。 PdM 中有一項重要假設，就是機器的健康狀態會在其例行運作期間隨著時間下降。 預計資料會包含隨時間變化的特徵，以擷取此老化模式以及任何會導致降低的異常狀況。 演算法需要資料的時態層面，才能了解一段時間的故障和非故障模式。 演算法會根據這些資料點，學習預測機器在故障前可以繼續運作多少個時間單位。

#### <a name="static-feature-data"></a>靜態特徵資料
靜態特徵是設備的相關中繼資料。 範例包括製造商、型號、製造日期、服務開始日期、系統位置，以及其他技術規格。

[範例 PdM 使用案例](#Sample-PdM-use-cases)的相關資料範例如下表所示：

| 使用案例 | 相關資料的範例 |
|:---------|---------------------------|
|航班延誤和取消 | 航段和頁面記錄形式的航班路線資訊。 航段資料包括路線詳細資料，例如起飛/抵達日期、時間、機場、轉機等。頁面記錄包括資料包括地面維護人員所記錄的一系列錯誤和維護代碼。|
|飛機引擎零件故障 | 從飛機中可提供各種零件狀況相關資訊的感應器收集而來的資料。 維護記錄有助於識別零件發生故障和更換的時間。|
|ATM 故障 | 每筆交易 (現金/支票存款) 的感應器讀數和現金的發放。 票據、票據厚度、票據抵達距離、支票屬性等之間的差距測量資訊。可提供錯誤碼、維修資訊、上次提款機補鈔時間的維護記錄。|
|風力渦輪機故障 | 感應器會監視渦輪機狀況，例如溫度、風向、產生的電力、發電機組速度等。資料是從各區域中風力發電廠的風力渦輪機收集而來。 一般而言，每台渦輪機會有多個在固定時間間隔接力測量的感應器讀數。|
|斷路器故障 | 包含矯正性、預防性及系統化動作的維護記錄。 傳送至斷路器的運作資料 (包含開啟和關閉等動作的自動和手動命令)。 裝置中繼資料，例如製造日誌、位置、型號等。斷路器規格，例如電壓等級、地理位置、周圍狀況。|
|電梯門故障| 電梯中繼資料，例如電梯類型、製造日期、維護頻率、建築類型等。 運作資訊，例如車門循環次數、車門平均關閉時間。 包含原因的故障歷程記錄。|
|車輪故障 | 可測量車輪加速、煞車情況、行駛距離、速度等的感應器資料。車輪的靜態資訊，像是製造商、製造日期。 從零件訂單資料庫推斷的故障資料，用以追蹤訂單日期和數量。|
|地鐵列車門故障 | 車門開啟和關閉時間、其他運作資料，例如車門的目前狀況。 靜態資料包含資產識別碼、時間和狀況值資料行。|

### <a name="data-types"></a>資料類型
假設使用上述資料來源，在 PdM 網域中觀察到的兩個主要資料類型如下：

- 時態資料：運作遙測、機器狀況、工單類型、在記錄時會有時間戳記的優先順序代碼。 故障、維護/維修，以及使用量歷程記錄也會有與每個事件相關聯的時間戳記。
- 靜態資料：一般而言，機器特徵和操作者特徵屬於靜態資料，因為它們會描述機器的技術規格或操作者屬性。 如果這些特徵可能隨著時間變更，則也應該擁有與其相關聯的時間戳記。

視所用的演算法而定，預測和目標變數都應該經過前置處理/轉換成[數值、類別和其他資料類型](https://www.statsdirect.com/help/basics/measurement_scales.htm)。

### <a name="data-preprocessing"></a>資料前置處理
特徵設計的先決條件，就是準備來自各種資料流的資料，以撰寫可從中輕鬆建立特徵的結構描述。 先以記錄資料表的形式呈現資料。 資料表中的每一個資料列都代表一個訓練執行個體，而資料行則代表「預測」特徵 (也稱為獨立屬性或自變數)。 組織資料，讓最後一個資料行是「目標」 (應變數)。 針對每個訓練執行個體，指派「標籤」作為此資料行的值。

針對時態資料，將感應器資料的持續時間分割成多個時間單位。 每筆記錄都必須屬於資產的某個時間單位，而且應該提供不同的資訊。 時間單位是根據業務需求來定義，可以是數秒、數分鐘、數小時、數天、數個月的倍數，依此類推。 時間單位不必與資料收集的頻率相同。 如果頻率很高，資料可能不會顯示單位之間有任何重大差異。 例如，假設每隔 10 秒收集一次周圍溫度。 使用該相同間隔來訓練資料，只會使範例數目激增，但不會提供任何額外資訊。 在此情況下，比較好的策略會是根據業務理由，使用平均超過 10 分鐘或一小時的資料。

對於靜態資料，
- 維護記錄：原始維護資料具有資產識別碼和時間戳記，以及在指定時間點執行的維護活動相關資訊。 將維護活動轉換成「類別」資料行，其中每個類別描述項都會唯一對應至特定維護動作。 維護記錄的結構描述會包含資產識別碼、時間和維護動作。

- 故障記錄：您可將故障或故障原因記錄為依特定業務狀況定義的特定錯誤碼或故障事件。 在設備有多個錯誤碼的情況下，領域專家應協助找出與目標變數相關的錯誤碼。 使用其餘的錯誤碼或狀況來建構與這些故障相互關聯的「預測」特徵。 故障記錄的結構描述會包含資產識別碼、時間、故障或故障原因 (如果可取得原因)。

- 機器和操作者中繼資料：將機器和操作者資料合併成一個結構描述，讓資產與其操作者，以及其各自屬性產生關聯。 機器狀況的結構描述會包含資產識別碼、資產特徵、操作者識別碼和操作者特徵。

其他資料前置處理步驟包括「處理遺漏值」和屬性值的「正規化」。 詳細的討論超出本指南的範圍，請參閱下一節中的一些實用參考。

採用上述前置處理過的資料來源，在特徵設計前的最終轉換就是根據資產識別碼和時間戳記聯結上述資料表。 當機器正常運作時，所產生資料表的故障資料行會有 null 值。 您可依正常運作的指標推算這些 null 值。 使用此故障資料行來建立預測性模型的標籤。 如需詳細資訊，請參閱[預測性維護的模型化技巧](#Modeling-techniques-for-predictive-maintenance)。

## <a name="feature-engineering"></a>特徵設計
將資料模型化前的第一個步驟就是特徵設計。 其在資料科學程序中的角色[說明在此](https://docs.microsoft.com/azure/machine-learning/team-data-science-process/create-features)。 「特徵」是模型的預測性屬性 - 例如溫度、壓力、震動等。 對於 PdM，特徵設計涉及從可調整大小的持續期間內收集的過去資料中摘錄電腦的健康情況。 在該意義而言，它與其對等項目不同，例如遠端監視、異常偵測和故障偵測。 

### <a name="time-windows"></a>時段
遠端監視需要報告從「時間點」起所發生的事件。 異常偵測模型會評估 (計分) 內送資料流，以標記從時間點起的異常。 故障偵測會依照發生時間點將故障分類為特定類型。 相反地，PdM 涉及根據「過去時間週期」內代表機器行為的特徵來預測「未來時間週期」內的故障。 對於 PdM，來自個別時間點的特徵資料太多雜訊以致無法預測。 所以必須藉由彙總各時段內的資料點，將每個特徵的資料「平滑化」。

### <a name="lag-features"></a>延隔時間特徵
業務需求可定義模型必須預測多久的未來。 接著，此持續時間有助於定義「模型必須回顧多久以前」來進行這些預測。 這個「回顧」期間稱為「延隔時間」，而在此延隔期間內設計的特徵則稱為「延隔時間特徵」。 本節討論可從具有時間戳記的資料來源建構的延隔時間特徵，以及如何從靜態資料來源建立特徵。 延隔時間特徵本質上通常為「數值」。

> [!IMPORTANT]
> 時段大小是透過測試來決定，而且應在領域專家的協助下完成。 在選取和定義延隔時間特徵、其彙總及時段類型時，同樣也要格外留意。

#### <a name="rolling-aggregates"></a>滾動彙總
對於資產的每一筆記錄，我們選擇大小為 "W" 的滾動時段，作為計算彙總的時間單位數。 然後，我們會使用該記錄的「日期之前」的 W 個期間，計算延隔時間特徵。 在圖 1 中，藍線顯示針對每個時間單位為資產記錄的感應器值。 這些藍線表示在大小 W = 3 的時段內特徵值的滾動平均數。 此滾動平均數是對 t<sub>1</sub> (橘色) 到 t<sub>2</sub> (綠色) 的範圍中具有時間戳記的所有記錄計算。 視資料的性質而定，W 值通常為分鐘或小時。 但是對於某些問題，挑選較大的 W (假設 12 個月)，可以提供資產在記錄時間前的完整歷程記錄。

![圖 1. 滾動彙總特徵](./media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png) 圖 1。 滾動彙總特徵

一個時段內的滾動彙總範例包括計數、平均數、CUMESUM (累計總和) 量值、最小/最大值。 此外，通常會使用變異數、標準差，以及超過 N 個標準差的極端值計數。 本指南中[使用案例](#Sample-PdM-use-cases)適用的彙總範例如下所列。 
- 航班延誤：最後一天/週內的錯誤碼計數。
- 飛機引擎零件故障：滾動平均值、標準差，以及過去一天、週等的總和。此計量應與業務領域專家一起決定。
- ATM 故障：滾動平均值、中間值、標準差、超過三個標準差的離群值計數、CUMESUM 上限和下限。
- 地鐵列車門故障：過去一天、週、兩週等的事件計數。
- 斷路器故障：過去一週、年、三年等的故障計數。

PdM 有另一個實用的技巧，就是使用可偵測資料異常的演算法來擷取趨勢變更、尖峰和層級變更。

#### <a name="tumbling-aggregates"></a>輪轉彙總
針對資產的每筆標記記錄，定義了一個大小為 _W-<sub>k</sub>_ 的時段，其中 _k_ 是大小為 _W_ 的時段數目。然後會針對在記錄時間戳記前的期間建立 _k_  _個輪轉時段_ _W-k、W-<sub>(k-1)</sub>、…、W-<sub>2</sub>、W-<sub>1</sub>_ 的彙總。 _k_ 若為較小數字可擷取短期的效果，若為較大數字則可擷取長期的降低模式。 (請參閱圖 2)。

![圖 2. 輪轉彙總特徵](./media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png) 圖 2。 輪轉彙總特徵

例如，使用 W = 1 和 k = 3 可建立風力渦輪機使用案例的延隔時間特徵。 這些特徵意味著在使用上限和下限極端值的過去三個月中每個月的延隔時間。

### <a name="static-features"></a>靜態特徵

設備的技術規格 (例如製造日期、型號、位置等等) 是靜態特徵的部分範例。 這些特徵可視為模型化的「類別」變數。 斷路器使用案例的一些範例包括電壓、電流、電力容量、變壓器類型和電源。 對於車輪故障，輪胎的類型 (合金 vs 鋼) 就是一個範例。

目前為止所討論的資料準備工作應會導致資料整理成如下所示的方式。 訓練、測試及驗證資料應具有此邏輯結構描述 (此範例是以天為單位顯示時間)。

| 資產識別碼 | 時間 | <Feature Columns> | 標籤 |
| ---- | ---- | --- | --- |
| A123 |第 1 天 | . . . | . |
| A123 |第 2 天 | . . . | . |
| ...  |...   | . . . | . |
| B234 |第 1 天 | . . . | . |
| B234 |第 2 天 | . . . | . |
| ...  |...   | . . . | . |

特徵設計的最後一個步驟是**標記**目標變數。 此程序取決於模型化技巧。 接著，模型化技巧會取決於業務問題和可用資料的本質。 下一節會討論標記作業。

> [!IMPORTANT]
> 若要達到成功的 PdM 解決方案，資料準備和特徵設計與模型化技巧一樣重要。 領域專家和實踐者應投入大量時間來達成模型的正確特徵和資料。 以下列出眾多特徵設計相關書籍中的一小部分：
> - Pyle, D. Data Preparation for Data Mining (The Morgan Kaufmann Series in Data Management Systems), 1999
> - Zheng, A., Casari, A. Feature Engineering for Machine Learning: Principles and Techniques for Data Scientists, O'Reilly, 2018.
> - Dong, G. Liu, H.(Editors), Feature Engineering for Machine Learning and Data Analytics (Chapman & Hall/CRC Data Mining and Knowledge Discovery Series), CRC Press, 2018.

## <a name="modeling-techniques-for-predictive-maintenance"></a>預測性維護的模型化技巧

這一節討論 PdM 問題的主要模型化技巧，以及其特定標籤建構方法。 請注意，單一模型化技巧可使用於不同的產業。 模型化技巧會與資料科學問題配對，而非與手邊資料的內容配對。

> [!IMPORTANT]
> 您應諮詢領域專家的意見來決定  
> 故障案例的標籤選擇和標記策略。

### <a name="binary-classification"></a>二元分類
二元分類用來「預測在未來某個期間內設備會故障的機率」 - 該期間稱為「未來水平期間 X」。在諮詢領域專家的意見下，會依照業務問題和手邊的資料來決定 X。 範例包括：
- 更換零件、部署維護資源、執行維護所需的「最小前置時間」，以避免在這段期間內可能發生的問題。
- 在發生問題前可能發生的「最小事件計數」。

使用這項技巧，可找出兩種訓練範例。 肯定範例，這表示故障，其標籤 = 1。 否定範例，這表示正常運作，其標籤 = 0。 目標變數以及標籤值都屬於「類別」變數。 模型應找出在接下來 X 個時間單位內可能故障或正常運作的每個新範例。

#### <a name="label-construction-for-binary-classification"></a>二元分類的標籤建構
此處的問題是：「資產在接下來 X 個時間單位內會故障的機率為何？」 若要回答這個問題，請將資產故障前的 X 筆記錄標記為「即將故障」(標籤 = 1)，並將所有其他記錄標記為「正常」(標籤 = 0)。 (請參閱圖 3)。

![圖 3. 二元分類的標記方式](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png) 圖 3. 二元分類的標記方式

以下列出某些使用案例的標記策略範例。
- 航班延誤：可選擇 1 天作為 X，以預測接下來 24 小時內的延誤。 接著，在故障前 24 小時內的所有航班都已標記為 1。
- ATM 現金提款失敗：目標可能是判斷在接下來一小時內的交易失敗機率。 在該案例中，在失敗過後一小時內發生的所有交易都會標記為 1。 若要預測接下來 N 張提領的流通票據失敗機率，在失敗的最後 N 張票據內提領的所有票據都會標記為 1。
- 斷路器故障：目標可能是預測下一個斷路器指令失敗。 在該案例中，可選擇一個未來指令作為 X。
- 列車門故障：可選擇兩天作為 X。
- 風力渦輪機故障：可選擇兩個月作為 X。

### <a name="regression-for-predictive-maintenance"></a>預測性維護的迴歸
迴歸模型可用來「計算資產的剩餘使用年限 (RUL)」。 RUL 定義為資產在下次發生故障前可運作的時間量。 每個訓練範例都是一筆記錄，其屬於資產的時間單位 _nY_，其中 _n_ 是倍數。 模型應將每個新範例的 RUL 計算為「連續的數字」。 這個數字表示在故障前剩餘的時間週期。

#### <a name="label-construction-for-regression"></a>迴歸的標籤建構
這裡的問題是：「設備的剩餘使用年限 (RUL) 為何？」 針對故障前的每筆記錄，將標籤計算為在下步故障前剩餘的時間單位數。 在此方法中，標籤為連續變數。 (請參閱圖 4)。

![圖 4： 迴歸的標記方式](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png) 圖 4. 迴歸的標記方式

為了迴歸，所以會使用故障點參考進行標記。 若不知道資產在故障前存留多久，便無法進行計算。 因此與二元分類對比，資料中沒有任何失敗的資產不能用於模型化。 這個問題可由另一個稱為[存活分析](https://en.wikipedia.org/wiki/Survival_analysis)的統計技巧來得到最妥善的解決。 但是，將此技巧套用至資料會頻繁地隨時間變化的 PdM 使用案例時，則可能會引起混亂。 如需有關存活分析的詳細資訊，請參閱[這一份精簡資料](https://www.cscu.cornell.edu/news/statnews/stnews78.pdf)。

### <a name="multi-class-classification-for-predictive-maintenance"></a>預測性維護的多類別分類
多類別分類技巧可使用於 PdM 解決方案中的兩個案例：
- 預測「兩種未來結果」： 第一種結果是資產的「故障前的時間範圍」。 資產會被指派給多個可能的時間週期之一。 第二種結果是在未來期間內因為「多個根本原因中的其中一個」而發生故障的可能性。 此預測可讓維護團隊監看徵兆及規劃維護排程。
- 預測特定故障的「最可能根本原因」。 此結果會建議修復故障的維護動作組。 根本原因及建議維修的排名清單可協助技術人員排列其故障後維修動作的優先順序。

#### <a name="label-construction-for-multi-class-classification"></a>多類別分類的標籤建構
此處的問題是：「資產在接下來 _nZ_ 個時間單位內會故障的機率為何 (其中 _n_ 是期間數目)？」 若要回答這個問題，請使用時段 (3Z、2Z、Z) 標記資產故障前的 nZ 筆記錄。 將所有其他記錄標記為「正常」(標籤 = 0)。 在此方法中，目標變數會保留「類別」值。 (請參閱圖 5)。

![圖 5. 故障時間預測的多類別分類標記方式](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png) 圖 5. 故障時間預測的多類別分類標記方式

此處的問題是：「由於根本原因/問題 _P<sub>i</sub>_，資產在接下來 X 個時間單位內會故障的機率為何？」 其中 _i_ 是可能的根本原因數目。 若要回答這個問題，請將資產故障前的 X 筆記錄標記為「由於根本原因 _P<sub>i</sub>_ 即將故障」(標籤 = _P<sub>i</sub>_)。 將所有其他記錄標記為「標準」(標籤 = 0)。 在此方法中，標籤也是類別變數 (請參閱圖 6)。

![圖 6. 根本原因預測的多類別分類標記方式](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png) 圖 6. 根本原因預測的多類別分類標記方式

此模型將指派因為每個 P_i<sub></sub>_ 的故障機率，以及沒有故障的機率。 這些機率可依大小排序，以便預設未來最可能發生的問題。

此處的問題是：「您建議在故障後執行哪些維護動作？」 若要回答這個問題，標記「不需要挑選未來水平」，因為此模型不會預測未來故障。 只是在「發生故障後」預測最可能的根本原因。

## <a name="training-validation-and-testing-methods-for-predictive-maintenance"></a>預測性維護的訓練、驗證及測試方法
[Team Data Science Process](https://docs.microsoft.com/azure/machine-learning/team-data-science-process/overview) 提供完整的模型訓練-測試-驗證週期。 這一節討論 PdM 獨有的層面。

### <a name="cross-validation"></a>交叉驗證
[交叉驗證](https://en.wikipedia.org/wiki/Cross-validation_(statistics))的目的在於定義資料集，以在訓練階段「測試」模型。 此資料集稱為「驗證集」。 此技巧有助於限制「過度學習」問題，並提供模型如何一般化為獨立資料集的見解。 也就是未知的資料集，可能來自真正的問題。 訓練和測試例行工作必須考慮隨時間變化的層面，才能更妥善概括看不見的未來資料。

許多機器學習演算法相依於可大幅改變模型效能的超參數數目。 在訓練模型時，不會自動計算這些超參數的最佳值。 最佳值應該由資料科學家指定。 尋找良好超參數值的方法有好幾種。

最常見的方法是 k-fold cross-validation，可隨機將範例分割成 _k_ 疊。 對於每組超參數值，執行學習演算法 _k_ 次。 在每次反覆運算時，使用目前這疊中的範例作為驗證集，而其餘的範例則作為訓練集。 透過訓練範例訓練此演算法，並透過驗證範例計算效能計量。 在此迴圈結束時，計算 _k_ 個效能計量的平均數。 對於每組超參數值，選擇具有最佳平均效能的值。 選擇超參數的工作通常為實驗性質。

在 PdM 問題中，會將資料記錄成來自數個資料來源之事件的時間序列。 這些記錄可以根據標記時間來排序。 因此，如果將資料集「隨機」分割成訓練和驗證集，則「有些訓練範例的時間可能晚於某些驗證範例」。 根據模型訓練「之前」到來的一些資料來預估超參數值的未來效能。 這些估計可能過於樂觀，尤其是在時間序列不固定並隨著時間演化的時候。 因此，所選的超參數值可能不是最理想的。

建議方法是以「時間相依」方式將範例分割成訓練和驗證集，讓所有驗證範例的時間晚於所有訓練範例。 對於每組超參數值，透過訓練資料集來訓練演算法。 針對相同的驗證集測量模型的效能。 選擇可顯示最佳效能的超參數值。 訓練/驗證分割所選的超參數值會導致未來模型效能優於交叉驗證隨機選擇的值。

使用最佳超參數值，透過整個訓練資料來訓練學習演算法，即可產生最終模型。

### <a name="testing-for-model-performance"></a>測試模型效能
建立模型後，必須估計其在新資料上的未來效能。 透過驗證集計算的超參數值效能計量，或經由交叉驗證計算的平均效能計量都是理想的估計。 這些估計通常過於樂觀。 企業對於其測試模型的方式，通常有一些額外的指導方針。

對於 PdM 的建議方式是以「時間相依」方式，將範例分割成訓練、驗證和測試資料集。 所有測試範例的時間都應晚於所有訓練和驗證範例。 在分割之後，如先前所述產生模型並測量其效能。

當時間序列固定且易於預測時，隨機和時間相依方法都會產生類似的未來效能估計。 當時間序列不固定且/或難以預測時，時間相依方法會產生更確實的未來效能估計。

### <a name="time-dependent-split"></a>時間相依分割
這一節說明實作時間相依分割的最佳做法。 下面會說明訓練與測試集之間的時間相依雙向分割。

假設有一連串的時間戳記事件，例如來自各種感應器的測量資料。 針對包含多個事件的時間範圍，定義訓練和測試範例的特徵及標籤。 例如，對於二元分類，根據過去的事件建立特徵，並根據未來 "X" 個時間單位內的未來事件建立標籤 (請參閱[特徵設計](#Feature-engineering)和[模型化技巧](#Modeling-techniques-applied-to-PdM-use-cases)章節)。 因此，範例的標記時間範圍會晚於其特徵的時間範圍。

對於時間相依分割，挑選「訓練截止時間 T<sub>c</sub>」，以便使用截至 T<sub>c</sub> 為止的過去資料微調的超參數來訓練模型。 為了避免超出 T<sub>c</sub> 的未來標籤外洩至訓練資料中，請選擇最新的時間，以將訓練範例標記為 T<sub>c</sub> 前的 X 個時間單位。 在 圖 7 所示的範例中，每個方塊都代表資料集中的一筆記錄，其特徵和標籤的計算方式如上所述。 此圖顯示當 X=2 和 W=3 時，應該進入訓練和測試集的記錄：

![圖 7. 二元分類的時間相依分割](./media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png) 圖 7. 二元分類的時間相依分割

綠色方塊表示屬於可用於訓練之時間單位的記錄。 每個訓練範例的產生方式：考慮將過去三個期間用於特徵產生，以及將 T<sub>c</sub> 之前的兩個未來期間用於標記。 如果兩個未來期間的任何部分超出 T<sub>c</sub>，請將該範例從訓練資料集中排除，因為無法取得超過 T<sub>c</sub> 的可見性。

假設有上述條件約束，則黑色方塊代表最終標記資料集的記錄，而這些記錄不該使用於訓練資料集。 這些記錄因為是在 T<sub>c</sub> 之前，所以也不會使用於測試資料。 此外，其標記時間範圍部分取決於訓練時間範圍，這並不理想。 訓練和測試資料應該有個別的標記時間範圍，以免標籤資訊外洩。

目前為止所討論的技巧允許有時間戳記接近 T<sub>c</sub> 的訓練與測試範例重疊。 要達成更大區隔的解決方式，就是從測試集中排除位於 T<sub>c</sub> 的 W 個時間單位內的範例。 但是這類積極分割取決於大量資料可用性。

用於預測 RUL 的迴歸模型更加受到外洩問題的嚴重影響。 使用隨機分割方法會導致極端過度學習。 針對迴歸問題，分割方式應該是要讓屬於故障發生在 T<sub>c</sub> 前之資產的記錄進入訓練集中。 故障發生在截止時間後的資產記錄則會進入測試集中。

分割訓練和測試資料的另一種最佳做法是使用依照資產識別碼的分割。 分割方式應該是不要將訓練集中所用的任何資料使用於測試模型效能。 使用這個方法，模型有更好的機會提供比較確實的新資產結果。

### <a name="handling-imbalanced-data"></a>處理不平衡的資料
在分類問題中，如果有一個類別的範例比其他類型的範例更多，此資料集就會被認為「不平衡」。 在理想的情況下，訓練資料中的每個類別都有足夠的代表性資料，才能夠區分不同的類別。 如果有一個類別少於 10% 的資料，此資料就會被視為不平衡。 不具代表性的類別稱為「少數類別」。

許多 PdM 問題都會面臨這類不平衡的資料集，也就是相較於其他類別，有一個類別嚴重不具代表性。 在某些情況下，少數類別可能只佔總資料點的 0.001%。 類別不平衡不是 PdM 特有的。 很少發生失敗和異常的其他領域也會面臨類似問題，例如，詐騙偵測和網路入侵。 這些失敗可構成少數類別範例。

在資料類別不平衡的情況下，大多數標準學習演算法的效能都會受到影響，因為其目標在於將整體錯誤率降到最低。 在具有 99% 否定和 1% 肯定範例的資料集中，將所有執行個體標記為否定，模型即可顯示為具有 99% 的精確度。 不過，此模型會所有的肯定範例歸類錯誤，所以即使精確度很高，此演算法也不算是有用的演算法。 因此，傳統評估計量 (例如「錯誤率的整體精確度」) 還不足以進行不平衡的學習。 若遇到不平衡的資料集，則會使用其他計量進行模型評估：
- Precision
- 召回
- F1 分數
- 已調整成本的 ROC (接收端操作特性)

如需有關這些計量的詳細資訊，請參閱[模型評估](#Model-evaluation)。

不過，有一些方法可協助矯正類別不平衡問題。 「取樣技巧」和「成本導向學習」是兩大主要方法。

#### <a name="sampling-methods"></a>取樣方法
不平衡的學習牽涉到使用取樣方法將訓練資料集修改為平衡的資料集。 取樣方法不是要套用到測試集。 雖然有幾種取樣技巧，但最直接的取樣方法是「隨機超取樣」和「低取樣」。

「隨機超取樣」牽涉到從少數類別中選取一個隨機樣本，複製這些範例，然後將它們加入至訓練資料集。 因此會增加少數類別中的範例數，最終讓不同類別的範例數達到平衡。 超取樣的其中一個缺點，就是某些範例的多個執行個體可能會導致分類器變得太特定，以致發生過適情況。 模型可能會顯示高訓練精確度，但是其在看不見的測試資料上的效能可能不是最理想的。

相反地，「隨機低取樣」就是從多數類別中選取一個隨機樣本，並從訓練資料集中移除這些範例。 不過，從多數類別中移除範例可能會導致分類器錯過屬於多數類別的重要概念。 在「混合式取樣」中，少數類別會超取樣，而多數類別則會低取樣，同時也是另一個可行的方法。

有許多複雜的取樣技巧。 所選的技巧取決於資料科學家所進行的反覆式實驗的資料屬性與結果。

#### <a name="cost-sensitive-learning"></a>成本導向學習
在 PdM 中，構成少數類別的失敗比正常範例更有用處。 因此重點主要在於演算法對於失敗的效能。 將肯定類別錯誤預測為否定類別的代價可能更高，反之亦然。 這種情況通常是指將元素錯誤歸類到不同類別的不平等損失或非對稱成本。 理想的分類器應該對少數類別提供很高的預測精確度，但不會影響到多數類別的精確度。

要達到此平衡的方法有好幾種。 若要緩和不平等損失的問題，請將高成本指派給少數類別歸類錯誤，並嘗試將整體成本降到最低。 有些演算法 (例如 SVM (支援向量機器)) 原本就會使用此概念，其允許在訓練期間指定肯定和否定範例的成本。 同樣地，「促進式決策樹」等提升 (Boosting) 方法通常會在資料不平衡的情況下展現良好效能。

## <a name="model-evaluation"></a>模型評估
歸類錯誤是 PdM 案例的重大問題，其對企業造成的誤警成本很高。 比方說，根據不正確的引擎故障預測來決定飛機停飛，可能會使行程和旅行計劃中斷。 讓機器退出生產線可能會造成營收損失。 因此，使用正確效能計量對新測試資料進行的模型評估很重要。

下面討論用來評估 PdM 模型的典型效能計量：

- [精確度](https://en.wikipedia.org/wiki/Accuracy_and_precision)是最受歡迎的計量，可用來描述分類器的效能。 但精確度易受資料分配影響，而且對於資料集不平衡的案例而言是不平衡的量值。 改用其他計量。 [混淆矩陣](https://en.wikipedia.org/wiki/Confusion_matrix)等工具用來計算及推論模型的精確度。
- PdM 模型的[精準度](https://en.wikipedia.org/wiki/Precision_and_recall)與誤警率相關。 較低的模型精確度通常對應於較高的誤警率。
- [召回](https://en.wikipedia.org/wiki/Precision_and_recall)率代表模型在測試集中正確找出多少個失敗。 較高的召回率表示模型成功找出真正的失敗。
- [F1 分數](https://en.wikipedia.org/wiki/F1_score)是精確度與召回的調和平均數，其值範圍介於 0 (最差) 到 1 (最佳) 之間。

對於二元分類，
- [接收端操作曲線 (ROC)](https://en.wikipedia.org/wiki/Receiver_operating_characteristic) 也是很常見的計量。 在 ROC 曲線中，會根據 ROC 上的一個固定作業點來解釋模型效能。
- 但是對於 PdM 問題而言，「十分位數資料表」和「增益圖」所提供的資訊更豐富。 它們只著重於肯定類別 (失敗)，而且比起 ROC 曲線，其提供的演算法效能圖片更為複雜。
  - 以失敗機率的遞減順序使用測試範例，即可建立「十分位數資料表」。 經過排序的範例接著會以十分位數分組 (10% 範例的機率最大，然後是 20%、30% 等等)。 每個十分位數的比率 (真陽性率)/(隨機基線) 有助於估計在每個十分位數的演算法效能。 隨機基線會採用值 0.1、0.2 等等。
  - [增益圖](http://www2.cs.uregina.ca/~dbd/cs831/notes/lift_chart/lift_chart.html)可繪製所有十分位數的十分位數真陽性率與隨機真陽性率。 前幾個十分位數通常會是結果的焦點，因為其可顯示最大的增益值。 此外，前幾個十分位數使用於 PdM 時，也可被視為「有風險」的代表性資料。

## <a name="model-operationalization-for-predictive-maintenance"></a>預測性維護的模型運算化

只有在經過訓練的模型實際運作時，才能實現資料科學演練的優點。 也就是說，必須將模型部署到商務系統中，才能根據先前未看到的新資料進行預測。  新資料必須以下列兩種方式，完全符合已訓練模型的「模型簽章」：
- 所有特徵都必須存在於新資料的每個邏輯執行個體 (例如資料表中的資料列) 中。
- 新資料必須經過前置處理，而且每個特徵都是以與訓練資料完全相同的方式進行設計。

在學術和產業文獻中，上述程序會以多種方式來陳述。 但是，下列所有陳述均表示同一件事：
- 使用模型進行「新資料計分」
- 「將模型套用」至新資料
- 模型「運算化」
- 「部署」模型
- 針對新資料「執行模型」

如先前所述，PdM 的模型運算化與其對等項目不同。 涉及異常偵測和失敗偵測的案例通常會實作「線上計分」(也稱為「即時計分」)。 在此，模型對每筆傳入的記錄「計分」，並傳回預測。 對於異常偵測，預測就是指出發生異常 (範例：單一類別 SVM)。 對於失敗偵測，它會是失敗的類型或類別。

相反地，PdM 牽涉到「批次計分」。 若要遵循模型簽章，必須以相同的方式將新資料中的特徵設計為訓練資料。 對於新資料特有的大型資料集，則會彙總各時段的特徵並且分批計分。 分批計分通常會在分散式系統中進行，例如 [Spark](http://spark.apache.org/) 或 [Azure Batch](https://docs.microsoft.com/azure/batch/batch-api-basics)。 還有幾種替代方案 - 兩者都不是最理想的：
- 串流資料引擎支援在記憶體中進行時段彙總。 所以其支援線上計分有所爭議。 但這些系統很適合於狹窄時段中的密集資料，或較寬時段中的疏鬆元素。 如 PdM 案例所示，它們無法針對較寬時段中的密集資料進行妥善擴充。
- 如果無法使用分批計分，解決方式就是調整線上計分，以一次數個小批次的方式處理新資料。

## <a name="solution-templates-for-predictive-maintenance"></a>預測性維護的解決方案範本

本指南的最後一節提供 PdM 解決方案範本、教學課程，以及在 Azure 中實作之實驗的清單。 在某些情況下，只要分鐘內就可以將這些 PdM 應用程式部署到 Azure 訂用帳戶。 它們可以當作概念證明示範、替代方式試驗的沙箱，或實際生產實作的加速器。 這些範本位於 [Azure AI 資源庫](http://gallery.azure.ai)或 [Azure GitHub](https://github.com/Azure)。 經過一段時間，這些不同的範例就會納入此解決方案範本。

| # | 標題 | 說明 |
|--:|:------|-------------|
| 1 | [Azure 預測性維護機器學習範例](https://github.com/Azure/MachineLearningSamples-PredictiveMaintenance) |用來預測接下來 N 個時間單位內失敗的 PdM 範例。 此範例會寫入為 Azure ML Workbench 專案，很適合 PdM 的初學者使用。 與此範例相關的[其他文件](https://docs.microsoft.com/azure/machine-learning/desktop-workbench/scenario-predictive-maintenance)。|
| 2 | [Azure 預測性維護解決方案範本](https://github.com/Azure/AI-PredictiveMaintenance) | 此開放原始碼解決方案範本展現了 ML 模型化和完整的 Azure 基礎結構，能夠支援 IoT 遠端監控環境中的預測性維護方案。 |
| 3 | [深入學習預測性維護](https://github.com/Azure/MachineLearningSamples-DeepLearningforPredictiveMaintenance) | Azure Notebook，內含使用 LSTM (長短期記憶) 網路 (循環類神經網路的類別) 進行預測性維護的示範解決方案，以及[有關此範例的部落格文章](https://azure.microsoft.com/blog/deep-learning-for-predictive-maintenance)。|
| 4 | [R Notebook 中的預測性維護模型化指南](https://gallery.azure.ai/Notebook/Predictive-Maintenance-Modelling-Guide-R-Notebook-1) | R Notebook 中具有指令碼的 PdM 模型化指南。|
| 5 | [適用於航太業的 Azure 預測性維護](https://gallery.azure.ai/Solution/Predictive-Maintenance-for-Aerospace-1) | 以 Azure ML v1.0 為基礎的前幾個 PdM 解決方案範本之一 (適用於飛機維護)。 本指南源自這個專案。 |
| 6 | [適用於 IoT Edge 的 Azure AI 工具組](https://github.com/Azure/ai-toolkit-iot-edge) | IoT Edge 中使用 TensorFlow 的 AI；工具組套件，可供深入學習 Azure IoT Edge 相容 Docker 容器中的模型，以及將這些模型公開為 REST API。
| 7 | [Azure IoT 預測性維護](https://github.com/Azure/azure-iot-predictive-maintenance) | Azure IoT 套件 PCS - 預先設定的解決方案。 採用 IoT 套件的飛機維護 PdM 範本。 與相同專案相關的[另一份文件](https://docs.microsoft.com/azure/iot-suite/iot-suite-predictive-overview)和[逐步解說](https://docs.microsoft.com/azure/iot-suite/iot-suite-predictive-walkthrough)。 |
| 8 | [使用 SQL Server R Services 的預測性維護範本](https://gallery.azure.ai/Tutorial/Predictive-Maintenance-Template-with-SQL-Server-R-Services-1) | 以 R 服務為基礎的剩餘使用年限案例示範。 |
| 9 | [預測性維護建模指南](https://gallery.azure.ai/Collection/Predictive-Maintenance-Modelling-Guide-1) | 在 AzureML v1.0 中使用 R 設計的飛機維護資料集特徵，包含[實驗](https://gallery.azure.ai/Experiment/Predictive-Maintenance-Modelling-Guide-Experiment-1)和[資料集](https://gallery.azure.ai/Experiment/Predictive-Maintenance-Modelling-Guide-Data-Sets-1)和 [Azure Notebook](https://gallery.azure.ai/Notebook/Predictive-Maintenance-Modelling-Guide-R-Notebook-1) 和[實驗](https://gallery.azure.ai/Experiment/Predictive-Maintenance-Step-1-of-3-data-preparation-and-feature-engineering-2)|

## <a name="training-resources-for-predictive-maintenance"></a>預測性維護的訓練資源

除了一般 AI 概念和做法的內容與訓練，Microsoft Azure 提供 PdM 技術後方的基本概念學習路徑。

| 訓練資源  | 可用性 |
|:-------------------|--------------|
| [使用樹狀結構和隨機樹系的 PdM 學習路徑](https://aischool.microsoft.com/learning-paths/1H5vH5wAYcAy88CoQWQcA8) | 公開 | 
| [使用深度學習的 PdM 學習路徑](https://aischool.microsoft.com/learning-paths/FSIXxYkOGcauo0eUO8qAS) | 公開 |
| [使用 Azure 的 AI 開發人員](http://azure.microsoft.com/training/learning-paths/azure-ai-developer) | 公開 |
| [Microsoft AI School](http://aischool.microsoft.com/learning-paths) | 公開 |
| [GitHub 中的 Azure AI 學習](https://github.com/Azure/connectthedots/blob/master/readme.md) | 公開 |
| [LinkedIn Learning](http://www.linkedin.com/learning) | 公開 |
| [Microsoft AI Youtube 網路研討會](https://www.youtube.com/watch?v=NvrH7_KKzoM&t=4s) | 公開 |
| [Microsoft AI Show](http://channel9.msdn.com/Shows/AI-Show) | 公開 |
| [LearnAI@MS](http://learnanalytics.microsoft.com) | 合作夥伴 |
| [Microsoft 合作夥伴網路](http://learningportal.microsoft.com) | 合作夥伴 |

此外，有些學術機構 (如史丹佛大學和 MIT) 和其他教育公司會在線上提供有關 AI 的免費 MOOCS (大規模開放式線上課程)。
